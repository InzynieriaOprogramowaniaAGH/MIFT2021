ARG SRC_PATH=MIFT2021/Grupy/Grupa02/SK306456/Lab08/src
ARG REPO_URL=https://github.com/InzynieriaOprogramowaniaAGH/MIFT2021
ARG FLAGS= --single-branch --branch Grupa02-SK306456_Lab07

FROM ubuntu:focal
EXPOSE 3000

RUN apt-get update \
&& apt-get -y install \ 
curl gnupg ca-certificates \
git

RUN curl -fsSL https://deb.nodesource.com/setup_15.x | bash - \
&& apt-get install -y nodejs 

RUN git clone $REPO_URL $FLAGS \
&& npm install --prefix $SRC_PATH

# will automatically stop after 60 seconds 
CMD npm start --prefix $SRC_PATH & sleep 60